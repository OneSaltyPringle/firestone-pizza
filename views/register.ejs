<%- include('partials/header', { title: 'Register', user: user }) %>

<section class="section-padding">
  <div class="container d-flex justify-content-center">
    <div class="custom-block bg-white shadow p-5" style="max-width: 400px; width: 100%;">
      <h2 class="mb-4 text-center">Create an Account</h2>

      <form method="POST" action="/register">

        <div class="mb-3">
          <input type="text" placeholder="Username" class="form-control" id="username" name="username" required value="<%= username %>">
        </div>

        <div class="mb-3">
          <input type="email" placeholder="Email" class="form-control" id="email" name="email" required value="<%= email %>">
        </div>

        <div class="mb-3">
          <input type="password" placeholder="Password" class="form-control" id="password" name="password" required>
        </div>

        <div class="mb-4">
          <div class="g-recaptcha" data-sitekey="<%= process.env.RECAPTCHA_SITE_KEY %>"></div>
        </div>

        <button type="submit" class="btn custom-btn w-100">Register</button>
      </form>

      <hr class="my-4">

      <p class="text-center">
        Already have an account?
        <a href="/login" class="fw-bold text-danger">Login Here</a>
      </p>

      <% if (message) { %>
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
          <%= message %>
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
      <% } %>
    </div>
  </div>
</section>

<script src="https://www.google.com/recaptcha/api.js" async defer></script>

<%- include('partials/footer') %>

<style>
  .form-control {
    width: 100%;
    padding: 0.75rem;
    border: 1px solid #ddd;
    border-radius: 5px;
    font-size: 1rem;
  }
  .form-control:focus {
    border-color: #d92d20;
    outline: none;
  }
</style>
